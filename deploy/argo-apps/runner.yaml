kind: Namespace
apiVersion: v1
metadata:
  name: mathianasj-backstage-runner
  labels:
    argocd.argoproj.io/managed-by: openshift-gitops
spec: {}
---
apiVersion: actions.summerwind.dev/v1alpha1
kind: RunnerDeployment
metadata:
  name: mathianasj-backstage-runnerdeploy
  namespace: mathianasj-backstage-runner
spec:
  replicas: 1
  template:
    spec:
      dockerEnabled: false
      dockerdWithinRunnerContainer: false
      serviceAccountName: gh-runner
      resources: {}
      dockerdContainerResources: {}
      organization: mathianasj-backstage
      env:
        - name: DOCKER_CONFIG
          value: /kaniko/.docker
        - name: GITHUB_OWNER
          value: mathianasj-backstage
        - name: RUNNER_HOME
          value: /home/runner
      containers:
        - name: runner
          resources: {}
          securityContext:
            capabilities:
              add:
                - CHOWN
                - SETUID
                - SETGID
                - FOWNER
                - DAC_OVERRIDE
                - CAP_SETGID
                - CAP_SETUID
            privileged: true